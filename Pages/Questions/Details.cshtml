@page "{questionId}"
@model Quanda.Pages_Questions.DetailsModel
@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

@if (Model.Author != null)
{
    <div>
        <a class="btn btn-primary" asp-page="./Edit" asp-route-questionId="@Model.Question.QuestionId">Edit</a>
        <a class="btn btn-danger" asp-page="./Delete" asp-route-questionId="@Model.Question.QuestionId">Delete</a>
    </div>
    <div>
        <a class="btn btn-success" asp-page="../Answers/Create" asp-route-questionId="@Model.Question.QuestionId">Answer This Question</a>
    </div>
}


<div>
    <b>Author:</b><br/>
    <span>@Model.Question.Author.UserName</span>
</div>

<div>
    <b>Title:</b><br/>
    <span>@Model.Question.QuestionTitle</span>
</div>

<div>
    <b>Description:</b><br/>
    <span>@Model.Question.QuestionText</span>
</div>

<div>
    <b>Created:</b><br/>
    <span>@Model.Question.Created.ToShortDateString() @Model.Question.Created.ToShortTimeString()</span>
</div>

<div>
    <b>Edited:</b><br/>
    <span>@Model.Question.Edited.ToShortDateString() @Model.Question.Edited.ToShortTimeString()</span>
</div>

@if (Model.Question.Answers.Count == 0)
{
    <div class="alert alert-info" role="alert">
        No answers found
    </div>
}
else
{
    <ul>
        @foreach (var answer in Model.Question.Answers)
        {
            <li>
                @answer.AnswerText
            </li>
        }
    </ul>
}